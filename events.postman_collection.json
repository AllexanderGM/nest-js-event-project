{
	"info": {
		"_postman_id": "1849c8cb-8798-4b52-8dff-9e12136099ff",
		"name": "API de Gesti√≥n de Eventos - NestJS (Con Autenticaci√≥n JWT)",
		"description": "Colecci√≥n completa para probar la API de eventos desarrollada con NestJS, TypeORM y MySQL.\n\nCaracter√≠sticas:\n- Sistema de autenticaci√≥n con JWT\n- Todas las rutas protegidas por defecto\n- CRUD completo de eventos\n- Validaci√≥n autom√°tica de datos\n- Tests autom√°ticos en las respuestas\n- Variables de entorno configurables\n\nAutor: KeyCode - NestJS\nVersi√≥n: 2.0.0",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "24525606"
	},
	"item": [
		{
			"name": "Autenticaci√≥n",
			"item": [
				{
					"name": "Registro de usuario",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Verificar que el status sea 201 Created",
									"pm.test(\"Status code es 201 Created\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"// Verificar que la respuesta tenga formato JSON",
									"pm.test(\"Response es JSON\", function () {",
									"    pm.response.to.be.json;",
									"});",
									"",
									"// Verificar que retorne el token y el usuario",
									"pm.test(\"Respuesta contiene token y usuario\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('access_token');",
									"    pm.expect(jsonData).to.have.property('user');",
									"    pm.expect(jsonData.user).to.have.property('email');",
									"    pm.expect(jsonData.user).to.have.property('displayName');",
									"});",
									"",
									"// Guardar el token para usar en otras peticiones",
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.collectionVariables.set(\"authToken\", jsonData.access_token);",
									"    pm.collectionVariables.set(\"userId\", jsonData.user.id);",
									"    console.log(\"‚úÖ Usuario registrado exitosamente\");",
									"    console.log(\"üìß Email: \" + jsonData.user.email);",
									"    console.log(\"üîë Token guardado en la variable 'authToken'\");",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"usuario@ejemplo.com\",\n  \"password\": \"password123\",\n  \"displayName\": \"Juan P√©rez\",\n  \"avatarUrl\": \"https://i.pravatar.cc/150?img=1\",\n  \"originWorld\": \"Tierra-616\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/auth/register",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"register"
							]
						},
						"description": "Registra un nuevo usuario en el sistema.\n\n**Campos requeridos:**\n- email: Email √∫nico del usuario\n- password: Contrase√±a (m√≠nimo 6 caracteres)\n- displayName: Nombre para mostrar (m√°x. 100 caracteres)\n\n**Campos opcionales:**\n- avatarUrl: URL del avatar\n- originWorld: Mundo de origen\n\n**Respuesta:**\n- access_token: Token JWT para autenticaci√≥n\n- user: Datos del usuario registrado"
					},
					"response": []
				},
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Verificar que el status sea 200 OK",
									"pm.test(\"Status code es 200 OK\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"// Verificar que retorne el token y el usuario",
									"pm.test(\"Respuesta contiene token y usuario\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('access_token');",
									"    pm.expect(jsonData).to.have.property('user');",
									"});",
									"",
									"// Guardar el token",
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    pm.collectionVariables.set(\"authToken\", jsonData.access_token);",
									"    pm.collectionVariables.set(\"userId\", jsonData.user.id);",
									"    console.log(\"‚úÖ Login exitoso\");",
									"    console.log(\"üìß Email: \" + jsonData.user.email);",
									"    console.log(\"üîë Token guardado en la variable 'authToken'\");",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"usuario@ejemplo.com\",\n  \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/auth/login",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"login"
							]
						},
						"description": "Inicia sesi√≥n con credenciales de usuario.\n\n**Campos requeridos:**\n- email: Email del usuario\n- password: Contrase√±a\n\n**Respuesta:**\n- access_token: Token JWT para autenticaci√≥n\n- user: Datos del usuario"
					},
					"response": []
				},
				{
					"name": "Obtener perfil (Requiere Auth)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Verificar que el status sea 200 OK",
									"pm.test(\"Status code es 200 OK\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"// Verificar que retorne los datos del usuario",
									"pm.test(\"Respuesta contiene datos del usuario\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('id');",
									"    pm.expect(jsonData).to.have.property('email');",
									"    pm.expect(jsonData).to.have.property('displayName');",
									"    console.log(\"‚úÖ Perfil obtenido exitosamente\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/auth/profile",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"profile"
							]
						},
						"description": "Obtiene el perfil del usuario autenticado.\n\n**Requiere:** Token JWT en el header Authorization\n\n**Respuesta:**\nDatos completos del usuario autenticado"
					},
					"response": []
				}
			],
			"description": "Endpoints de autenticaci√≥n - Registro, Login y Perfil"
		},
		{
			"name": "Eventos",
			"item": [
				{
					"name": "Crear evento",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Verificar que el status sea 201 Created",
									"pm.test(\"Status code es 201 Created\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"// Verificar que la respuesta tenga formato JSON",
									"pm.test(\"Response es JSON\", function () {",
									"    pm.response.to.be.json;",
									"});",
									"",
									"// Verificar que la respuesta tenga los campos esperados",
									"pm.test(\"Evento creado tiene los campos requeridos\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('id');",
									"    pm.expect(jsonData).to.have.property('title');",
									"    pm.expect(jsonData).to.have.property('date');",
									"    pm.expect(jsonData).to.have.property('createdAt');",
									"    pm.expect(jsonData).to.have.property('updatedAt');",
									"});",
									"",
									"// Guardar el ID del evento para usar en otras peticiones",
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    ",
									"    // Verificar que el ID existe y es v√°lido",
									"    pm.test(\"El ID del evento es v√°lido\", function () {",
									"        pm.expect(jsonData.id).to.exist;",
									"        pm.expect(jsonData.id).to.not.be.empty;",
									"    });",
									"    ",
									"    // Guardar el ID en las variables de colecci√≥n",
									"    pm.collectionVariables.set(\"eventId\", jsonData.id);",
									"    ",
									"    // Mostrar informaci√≥n √∫til en consola",
									"    console.log(\"\\n\" + \"=\".repeat(60));",
									"    console.log(\"‚úÖ EVENTO CREADO EXITOSAMENTE\");",
									"    console.log(\"=\".repeat(60));",
									"    console.log(\"üìã ID del evento: \" + jsonData.id);",
									"    console.log(\"üìù T√≠tulo: \" + jsonData.title);",
									"    console.log(\"üìÖ Fecha: \" + jsonData.date);",
									"    console.log(\"üìç Ubicaci√≥n: \" + (jsonData.location || 'No especificada'));",
									"    console.log(\"\\nüíæ El ID se guard√≥ en la variable: {{eventId}}\");",
									"    console.log(\"üîß Ahora puedes usar este ID en:\");",
									"    console.log(\"   - Obtener evento por ID\");",
									"    console.log(\"   - Actualizar evento\");",
									"    console.log(\"   - Eliminar evento\");",
									"    console.log(\"=\".repeat(60) + \"\\n\");",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"Conferencia de Node.js 2025\",\n  \"description\": \"Aprende las √∫ltimas novedades de Node.js, NestJS y desarrollo backend moderno. Charlas de expertos internacionales.\",\n  \"date\": \"2025-06-15T09:00:00.000Z\",\n  \"location\": \"Centro de Convenciones - Auditorio Principal\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/events",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"events"
							]
						},
						"description": "Crea un nuevo evento en la base de datos.\n\n**Requiere:** Token JWT en el header Authorization\n\n**Campos requeridos:**\n- title: T√≠tulo del evento (m√°x. 200 caracteres)\n- date: Fecha en formato ISO 8601\n\n**Campos opcionales:**\n- description: Descripci√≥n detallada\n- location: Ubicaci√≥n del evento"
					},
					"response": []
				},
				{
					"name": "Crear evento con im√°genes",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Verificar que el status sea 201 Created",
									"pm.test(\"Status code es 201 Created\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"// Verificar que la respuesta tenga formato JSON",
									"pm.test(\"Response es JSON\", function () {",
									"    pm.response.to.be.json;",
									"});",
									"",
									"// Verificar que el evento tenga im√°genes",
									"pm.test(\"Evento tiene im√°genes cargadas\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('images');",
									"    if (jsonData.images) {",
									"        pm.expect(jsonData.images).to.be.an('array');",
									"        pm.expect(jsonData.images.length).to.be.greaterThan(0);",
									"    }",
									"});",
									"",
									"// Guardar el ID del evento para usar en otras peticiones",
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    ",
									"    // Verificar que el ID existe y es v√°lido",
									"    pm.test(\"El ID del evento es v√°lido\", function () {",
									"        pm.expect(jsonData.id).to.exist;",
									"        pm.expect(jsonData.id).to.not.be.empty;",
									"    });",
									"    ",
									"    // Guardar el ID en las variables de colecci√≥n",
									"    pm.collectionVariables.set(\"eventId\", jsonData.id);",
									"    ",
									"    // Mostrar informaci√≥n √∫til en consola",
									"    console.log(\"\\n\" + \"=\".repeat(60));",
									"    console.log(\"‚úÖ EVENTO CON IM√ÅGENES CREADO EXITOSAMENTE\");",
									"    console.log(\"=\".repeat(60));",
									"    console.log(\"üìã ID del evento: \" + jsonData.id);",
									"    console.log(\"üìù T√≠tulo: \" + jsonData.title);",
									"    console.log(\"üìÖ Fecha: \" + jsonData.date);",
									"    console.log(\"üìç Ubicaci√≥n: \" + (jsonData.location || 'No especificada'));",
									"    ",
									"    // Informaci√≥n de im√°genes",
									"    if (jsonData.images && jsonData.images.length > 0) {",
									"        console.log(\"\\nüì∏ IM√ÅGENES CARGADAS: \" + jsonData.images.length);",
									"        jsonData.images.forEach(function(img, index) {",
									"            console.log(\"   \" + (index + 1) + \". \" + img);",
									"        });",
									"    }",
									"    ",
									"    console.log(\"\\nüíæ El ID se guard√≥ en la variable: {{eventId}}\");",
									"    console.log(\"üîß Ahora puedes usar este ID en:\");",
									"    console.log(\"   - Obtener evento por ID\");",
									"    console.log(\"   - Actualizar evento\");",
									"    console.log(\"   - Eliminar evento\");",
									"    console.log(\"=\".repeat(60) + \"\\n\");",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "title",
									"value": "Conferencia Tech 2025 con Galer√≠a",
									"description": "T√≠tulo del evento (requerido)",
									"type": "text"
								},
								{
									"key": "description",
									"value": "Evento de tecnolog√≠a con galer√≠a de im√°genes. Se mostrar√°n fotos de ediciones anteriores y del venue.",
									"description": "Descripci√≥n del evento (opcional)",
									"type": "text"
								},
								{
									"key": "date",
									"value": "2025-09-20T14:00:00.000Z",
									"description": "Fecha del evento en formato ISO 8601 (requerido)",
									"type": "text"
								},
								{
									"key": "location",
									"value": "Centro de Convenciones Tech Hub",
									"description": "Ubicaci√≥n del evento (opcional)",
									"type": "text"
								},
								{
									"key": "images",
									"description": "Im√°genes del evento (m√°x. 5, 5MB c/u) - SELECCIONA ARCHIVOS AQU√ç",
									"type": "file",
									"src": []
								}
							]
						},
						"url": {
							"raw": "{{baseUrl}}/events",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"events"
							]
						},
						"description": "Crea un nuevo evento con im√°genes.\n\n**Requiere:** Token JWT en el header Authorization\n\n**Content-Type:** multipart/form-data\n\n**Campos requeridos:**\n- title: T√≠tulo del evento (m√°x. 200 caracteres)\n- date: Fecha en formato ISO 8601\n\n**Campos opcionales:**\n- description: Descripci√≥n detallada\n- location: Ubicaci√≥n del evento\n- images: Array de archivos de imagen (m√°x. 5 im√°genes de 5MB c/u)"
					},
					"response": []
				},
				{
					"name": "Listar eventos",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Verificar que el status sea 200 OK",
									"pm.test(\"Status code es 200 OK\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"// Verificar que la respuesta sea un array",
									"pm.test(\"Response es un array\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.be.an('array');",
									"});",
									"",
									"// Verificar que haya eventos en la respuesta",
									"pm.test(\"Hay eventos en la base de datos\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.length).to.be.greaterThan(0);",
									"});",
									"",
									"// Guardar el ID del primer evento",
									"if (pm.response.json().length > 0) {",
									"    var firstEvent = pm.response.json()[0];",
									"    pm.collectionVariables.set(\"eventId\", firstEvent.id);",
									"    console.log(\"‚úÖ Total de eventos: \" + pm.response.json().length);",
									"    console.log(\"üìù Primer evento ID guardado: \" + firstEvent.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/events",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"events"
							]
						},
						"description": "Obtiene todos los eventos de la base de datos.\n\n**Requiere:** Token JWT en el header Authorization\n\nRetorna un array con todos los eventos, incluyendo sus campos completos."
					},
					"response": []
				},
				{
					"name": "Obtener evento por ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var eventId = pm.collectionVariables.get(\"eventId\");",
									"",
									"// Verificar que el status sea 200 OK o 404 Not Found",
									"pm.test(\"Status code es 200 OK o 404 Not Found\", function () {",
									"    pm.expect(pm.response.code).to.be.oneOf([200, 404]);",
									"});",
									"",
									"// Si es 200, verificar estructura",
									"if (pm.response.code === 200) {",
									"    pm.test(\"Evento tiene la estructura correcta\", function () {",
									"        var jsonData = pm.response.json();",
									"        pm.expect(jsonData).to.have.property('id');",
									"        pm.expect(jsonData).to.have.property('title');",
									"        pm.expect(jsonData).to.have.property('date');",
									"        pm.expect(jsonData).to.have.property('createdAt');",
									"        pm.expect(jsonData).to.have.property('updatedAt');",
									"    });",
									"    ",
									"    // Mostrar informaci√≥n del evento encontrado",
									"    var jsonData = pm.response.json();",
									"    console.log(\"\\n\" + \"=\".repeat(60));",
									"    console.log(\"‚úÖ EVENTO ENCONTRADO\");",
									"    console.log(\"=\".repeat(60));",
									"    console.log(\"üìã ID: \" + jsonData.id);",
									"    console.log(\"üìù T√≠tulo: \" + jsonData.title);",
									"    console.log(\"üìÖ Fecha: \" + jsonData.date);",
									"    console.log(\"üìç Ubicaci√≥n: \" + (jsonData.location || 'No especificada'));",
									"    console.log(\"üìù Descripci√≥n: \" + (jsonData.description || 'Sin descripci√≥n'));",
									"    console.log(\"\\nüîÑ Fechas:\");",
									"    console.log(\"   Creado: \" + jsonData.createdAt);",
									"    console.log(\"   Actualizado: \" + jsonData.updatedAt);",
									"    ",
									"    if (jsonData.images && jsonData.images.length > 0) {",
									"        console.log(\"\\nüì∏ Im√°genes: \" + jsonData.images.length);",
									"        jsonData.images.forEach(function(img, index) {",
									"            console.log(\"   \" + (index + 1) + \". \" + img);",
									"        });",
									"    }",
									"    console.log(\"=\".repeat(60) + \"\\n\");",
									"    ",
									"} else if (pm.response.code === 404) {",
									"    pm.test(\"Mensaje de error cuando no se encuentra\", function () {",
									"        var jsonData = pm.response.json();",
									"        pm.expect(jsonData).to.have.property('message');",
									"    });",
									"    ",
									"    // Mostrar informaci√≥n del error",
									"    console.log(\"\\n\" + \"=\".repeat(60));",
									"    console.log(\"‚ùå EVENTO NO ENCONTRADO\");",
									"    console.log(\"=\".repeat(60));",
									"    console.log(\"üìã ID buscado: \" + eventId);",
									"    console.log(\"\\nüí° POSIBLES CAUSAS:\");",
									"    console.log(\"   - El evento fue eliminado previamente\");",
									"    console.log(\"   - El ID no existe en la base de datos\");",
									"    console.log(\"   - El ID en {{eventId}} no es v√°lido\");",
									"    console.log(\"\\nüîß SOLUCI√ìN:\");",
									"    console.log(\"   1. Ejecuta 'Listar eventos' para ver eventos disponibles\");",
									"    console.log(\"   2. O crea un nuevo evento primero\");",
									"    console.log(\"=\".repeat(60) + \"\\n\");",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/events/{{eventId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"events",
								"{{eventId}}"
							]
						},
						"description": "Obtiene un evento espec√≠fico por su ID.\n\n**Requiere:** Token JWT en el header Authorization\n\n**Par√°metros:**\n- eventId: ID del evento\n\n**Respuestas:**\n- 200: Evento encontrado\n- 404: Evento no encontrado"
					},
					"response": []
				},
				{
					"name": "Actualizar evento",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Verificar que el status sea 200 OK",
									"pm.test(\"Status code es 200 OK\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"// Verificar que la respuesta tenga los campos actualizados",
									"pm.test(\"Evento actualizado correctamente\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('id');",
									"    pm.expect(jsonData).to.have.property('title');",
									"    pm.expect(jsonData).to.have.property('updatedAt');",
									"});",
									"",
									"// Verificar que updatedAt sea diferente de createdAt",
									"pm.test(\"Campo updatedAt fue modificado\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.updatedAt).to.not.equal(jsonData.createdAt);",
									"});",
									"",
									"// Mostrar informaci√≥n de la actualizaci√≥n",
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    var eventId = pm.collectionVariables.get(\"eventId\");",
									"    ",
									"    console.log(\"\\n\" + \"=\".repeat(60));",
									"    console.log(\"‚úÖ EVENTO ACTUALIZADO EXITOSAMENTE\");",
									"    console.log(\"=\".repeat(60));",
									"    console.log(\"üìã ID del evento: \" + jsonData.id);",
									"    console.log(\"üìù T√≠tulo actualizado: \" + jsonData.title);",
									"    console.log(\"üìÖ Fecha: \" + jsonData.date);",
									"    console.log(\"üìç Ubicaci√≥n: \" + (jsonData.location || 'No especificada'));",
									"    console.log(\"\\nüîÑ Fechas:\");",
									"    console.log(\"   Creado: \" + jsonData.createdAt);",
									"    console.log(\"   Actualizado: \" + jsonData.updatedAt);",
									"    console.log(\"\\nüí° El ID del evento sigue siendo: \" + eventId);",
									"    console.log(\"=\".repeat(60) + \"\\n\");",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"Conferencia de Node.js 2025 - ACTUALIZADA\",\n  \"description\": \"Agenda actualizada con nuevas charlas y workshops.\",\n  \"location\": \"Nuevo Centro de Convenciones\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/events/{{eventId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"events",
								"{{eventId}}"
							]
						},
						"description": "Actualiza un evento existente.\n\n**Requiere:** Token JWT en el header Authorization\n\n**Par√°metros:**\n- eventId: ID del evento a actualizar\n\n**Campos opcionales (env√≠a solo los que quieres actualizar):**\n- title\n- description\n- date\n- location"
					},
					"response": []
				},
				{
					"name": "Eliminar evento",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Verificar que el status sea 204 No Content",
									"pm.test(\"Status code es 204 No Content\", function () {",
									"    pm.response.to.have.status(204);",
									"});",
									"",
									"// Verificar que no haya contenido en la respuesta",
									"pm.test(\"Response no tiene contenido\", function () {",
									"    pm.expect(pm.response.text()).to.be.empty;",
									"});",
									"",
									"// Mostrar informaci√≥n de la eliminaci√≥n",
									"if (pm.response.code === 204) {",
									"    var deletedEventId = pm.collectionVariables.get(\"eventId\");",
									"    ",
									"    console.log(\"\\n\" + \"=\".repeat(60));",
									"    console.log(\"üóëÔ∏è  EVENTO ELIMINADO EXITOSAMENTE\");",
									"    console.log(\"=\".repeat(60));",
									"    console.log(\"üìã ID del evento eliminado: \" + deletedEventId);",
									"    console.log(\"\\n‚ö†Ô∏è  IMPORTANTE:\");",
									"    console.log(\"   - El evento ya no existe en la base de datos\");",
									"    console.log(\"   - La variable {{eventId}} todav√≠a contiene el ID eliminado\");",
									"    console.log(\"\\nüí° PR√ìXIMOS PASOS:\");",
									"    console.log(\"   1. Para seguir probando, crea un nuevo evento primero\");",
									"    console.log(\"   2. El nuevo ID se guardar√° autom√°ticamente en {{eventId}}\");",
									"    console.log(\"   3. Luego podr√°s usar 'Actualizar' o 'Obtener por ID'\");",
									"    console.log(\"=\".repeat(60) + \"\\n\");",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/events/{{eventId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"events",
								"{{eventId}}"
							]
						},
						"description": "Elimina un evento de la base de datos.\n\n**Requiere:** Token JWT en el header Authorization\n\n**Par√°metros:**\n- eventId: ID del evento a eliminar\n\n**Respuestas:**\n- 204: Evento eliminado exitosamente\n- 404: Evento no encontrado"
					},
					"response": []
				}
			],
			"description": "Operaciones CRUD para la gesti√≥n de eventos (Todas requieren autenticaci√≥n)"
		},
		{
			"name": "Reservas",
			"item": [
				{
					"name": "Crear Reserva",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Verificar que el status sea 201 Created",
									"pm.test(\"Status code es 201 Created\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"// Verificar que la respuesta tenga formato JSON",
									"pm.test(\"Response es JSON\", function () {",
									"    pm.response.to.be.json;",
									"});",
									"",
									"// Verificar estructura de la reserva",
									"pm.test(\"Reserva creada tiene los campos requeridos\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('id');",
									"    pm.expect(jsonData).to.have.property('userId');",
									"    pm.expect(jsonData).to.have.property('eventId');",
									"    pm.expect(jsonData).to.have.property('status');",
									"    pm.expect(jsonData).to.have.property('user');",
									"    pm.expect(jsonData).to.have.property('event');",
									"});",
									"",
									"// Guardar el ID de la reserva",
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.collectionVariables.set(\"bookingId\", jsonData.id);",
									"    ",
									"    console.log(\"\\n\" + \"=\".repeat(60));",
									"    console.log(\"‚úÖ RESERVA CREADA EXITOSAMENTE\");",
									"    console.log(\"=\".repeat(60));",
									"    console.log(\"üìã ID de la reserva: \" + jsonData.id);",
									"    console.log(\"üë§ Usuario: \" + jsonData.user.displayName);",
									"    console.log(\"üé´ Evento: \" + jsonData.event.title);",
									"    console.log(\"üìÖ Fecha evento: \" + jsonData.event.date);",
									"    console.log(\"üìä Estado: \" + jsonData.status);",
									"    console.log(\"\\nüíæ ID guardado en {{bookingId}}\");",
									"    console.log(\"=\".repeat(60) + \"\\n\");",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"eventId\": \"{{eventId}}\",\n  \"notes\": \"Reserva de prueba desde Postman\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/bookings",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"bookings"
							]
						},
						"description": "Crea una nueva reserva para un evento.\n\n**Requiere:** Token JWT\n\n**Body:**\n- eventId: UUID del evento (usa {{eventId}})\n- notes: Notas opcionales"
					},
					"response": []
				},
				{
					"name": "Listar Mis Reservas",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code es 200 OK\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response es un array\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.be.an('array');",
									"});",
									"",
									"// Mostrar informaci√≥n de las reservas",
									"if (pm.response.code === 200) {",
									"    var reservas = pm.response.json();",
									"    console.log(\"\\n\" + \"=\".repeat(60));",
									"    console.log(\"üìã MIS RESERVAS (\" + reservas.length + \" total)\");",
									"    console.log(\"=\".repeat(60));",
									"    ",
									"    if (reservas.length > 0) {",
									"        reservas.forEach(function(reserva, index) {",
									"            console.log(\"\\n\" + (index + 1) + \". Reserva #\" + reserva.id);",
									"            console.log(\"   üé´ Evento: \" + reserva.event.title);",
									"            console.log(\"   üìÖ Fecha: \" + reserva.event.date);",
									"            console.log(\"   üìä Estado: \" + reserva.status);",
									"            if (reserva.notes) {",
									"                console.log(\"   üìù Notas: \" + reserva.notes);",
									"            }",
									"        });",
									"        // Guardar el ID de la primera reserva",
									"        pm.collectionVariables.set(\"bookingId\", reservas[0].id);",
									"    } else {",
									"        console.log(\"\\n‚ö†Ô∏è  No tienes reservas a√∫n\");",
									"    }",
									"    console.log(\"\\n\" + \"=\".repeat(60) + \"\\n\");",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/bookings",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"bookings"
							]
						},
						"description": "Obtiene todas las reservas del usuario autenticado.\n\n**Requiere:** Token JWT"
					},
					"response": []
				},
				{
					"name": "Obtener Reserva por ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code es 200 OK o 404\", function () {",
									"    pm.expect(pm.response.code).to.be.oneOf([200, 404, 403]);",
									"});",
									"",
									"if (pm.response.code === 200) {",
									"    var reserva = pm.response.json();",
									"    console.log(\"\\n\" + \"=\".repeat(60));",
									"    console.log(\"‚úÖ RESERVA ENCONTRADA\");",
									"    console.log(\"=\".repeat(60));",
									"    console.log(\"üìã ID: \" + reserva.id);",
									"    console.log(\"üë§ Usuario: \" + reserva.user.displayName);",
									"    console.log(\"üé´ Evento: \" + reserva.event.title);",
									"    console.log(\"üìÖ Fecha evento: \" + reserva.event.date);",
									"    console.log(\"üìä Estado: \" + reserva.status);",
									"    if (reserva.notes) {",
									"        console.log(\"üìù Notas: \" + reserva.notes);",
									"    }",
									"    console.log(\"=\".repeat(60) + \"\\n\");",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/bookings/{{bookingId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"bookings",
								"{{bookingId}}"
							]
						},
						"description": "Obtiene una reserva espec√≠fica por su ID.\n\n**Requiere:** Token JWT\n**Solo el propietario puede ver su reserva**"
					},
					"response": []
				},
				{
					"name": "Actualizar Reserva (Confirmar)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code es 200 OK\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"if (pm.response.code === 200) {",
									"    var reserva = pm.response.json();",
									"    console.log(\"\\n\" + \"=\".repeat(60));",
									"    console.log(\"‚úÖ RESERVA ACTUALIZADA\");",
									"    console.log(\"=\".repeat(60));",
									"    console.log(\"üìã ID: \" + reserva.id);",
									"    console.log(\"üìä Nuevo estado: \" + reserva.status);",
									"    console.log(\"üìù Notas: \" + (reserva.notes || 'Sin notas'));",
									"    console.log(\"=\".repeat(60) + \"\\n\");",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"confirmed\",\n  \"notes\": \"Reserva confirmada. Definitivamente asistir√©.\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/bookings/{{bookingId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"bookings",
								"{{bookingId}}"
							]
						},
						"description": "Actualiza el estado y/o notas de una reserva.\n\n**Requiere:** Token JWT\n\n**Estados v√°lidos:**\n- pending\n- confirmed\n- cancelled"
					},
					"response": []
				},
				{
					"name": "Cancelar Reserva",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code es 200 OK\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"if (pm.response.code === 200) {",
									"    var reserva = pm.response.json();",
									"    console.log(\"\\n\" + \"=\".repeat(60));",
									"    console.log(\"‚ùå RESERVA CANCELADA\");",
									"    console.log(\"=\".repeat(60));",
									"    console.log(\"üìã ID: \" + reserva.id);",
									"    console.log(\"üìä Estado: \" + reserva.status);",
									"    console.log(\"=\".repeat(60) + \"\\n\");",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"cancelled\",\n  \"notes\": \"No podr√© asistir\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/bookings/{{bookingId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"bookings",
								"{{bookingId}}"
							]
						},
						"description": "Cancela una reserva cambiando su estado a 'cancelled'.\n\n**Requiere:** Token JWT"
					},
					"response": []
				},
				{
					"name": "Eliminar Reserva",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code es 204 No Content\", function () {",
									"    pm.response.to.have.status(204);",
									"});",
									"",
									"if (pm.response.code === 204) {",
									"    console.log(\"\\n\" + \"=\".repeat(60));",
									"    console.log(\"üóëÔ∏è  RESERVA ELIMINADA EXITOSAMENTE\");",
									"    console.log(\"=\".repeat(60));",
									"    console.log(\"üìã ID eliminado: \" + pm.collectionVariables.get(\"bookingId\"));",
									"    console.log(\"\\n‚ö†Ô∏è  Para seguir probando, crea una nueva reserva\");",
									"    console.log(\"=\".repeat(60) + \"\\n\");",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/bookings/{{bookingId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"bookings",
								"{{bookingId}}"
							]
						},
						"description": "Elimina permanentemente una reserva.\n\n**Requiere:** Token JWT\n**Solo el propietario puede eliminar su reserva**"
					},
					"response": []
				},
				{
					"name": "Ver Reservas de un Evento",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code es 200 OK\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"if (pm.response.code === 200) {",
									"    var reservas = pm.response.json();",
									"    console.log(\"\\n\" + \"=\".repeat(60));",
									"    console.log(\"üìä RESERVAS DEL EVENTO (\" + reservas.length + \" total)\");",
									"    console.log(\"=\".repeat(60));",
									"    ",
									"    reservas.forEach(function(reserva, index) {",
									"        console.log(\"\\n\" + (index + 1) + \". Reserva #\" + reserva.id);",
									"        console.log(\"   üë§ Usuario: \" + reserva.user.displayName);",
									"        console.log(\"   üìß Email: \" + reserva.user.email);",
									"        console.log(\"   üìä Estado: \" + reserva.status);",
									"    });",
									"    console.log(\"\\n\" + \"=\".repeat(60) + \"\\n\");",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/bookings/event/{{eventId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"bookings",
								"event",
								"{{eventId}}"
							]
						},
						"description": "Obtiene todas las reservas de un evento espec√≠fico.\n\n**Requiere:** Token JWT\n**√ötil para ver qui√©nes est√°n registrados a un evento**"
					},
					"response": []
				}
			]
		},
		{
			"name": "Tests de Validaci√≥n",
			"item": [
				{
					"name": "Acceso sin token (debe fallar con 401)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Verificar que el status sea 401 Unauthorized",
									"pm.test(\"Status code es 401 Unauthorized\", function () {",
									"    pm.response.to.have.status(401);",
									"});",
									"",
									"// Verificar mensaje de error",
									"pm.test(\"Respuesta indica falta de autenticaci√≥n\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('message');",
									"    console.log(\"‚úÖ Protecci√≥n de rutas funcionando correctamente\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/events",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"events"
							]
						},
						"description": "Test de autenticaci√≥n: Intenta acceder a eventos sin token JWT. Debe retornar error 401."
					},
					"response": []
				},
				{
					"name": "Login con credenciales inv√°lidas (debe fallar)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Verificar que el status sea 401 Unauthorized",
									"pm.test(\"Status code es 401 Unauthorized\", function () {",
									"    pm.response.to.have.status(401);",
									"});",
									"",
									"// Verificar mensaje de error",
									"pm.test(\"Respuesta contiene mensaje de error\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('message');",
									"    console.log(\"‚úÖ Validaci√≥n de credenciales funcionando correctamente\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"usuario@ejemplo.com\",\n  \"password\": \"password_incorrecta\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/auth/login",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"login"
							]
						},
						"description": "Test de autenticaci√≥n: Intenta hacer login con contrase√±a incorrecta. Debe retornar error 401."
					},
					"response": []
				},
				{
					"name": "Registro con email duplicado (debe fallar)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Verificar que el status sea 409 Conflict",
									"pm.test(\"Status code es 409 Conflict\", function () {",
									"    pm.response.to.have.status(409);",
									"});",
									"",
									"// Verificar mensaje de error",
									"pm.test(\"Respuesta indica email duplicado\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('message');",
									"    console.log(\"‚úÖ Validaci√≥n de email √∫nico funcionando correctamente\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"usuario@ejemplo.com\",\n  \"password\": \"password123\",\n  \"displayName\": \"Usuario Duplicado\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/auth/register",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"register"
							]
						},
						"description": "Test de validaci√≥n: Intenta registrar un usuario con email ya existente. Debe retornar error 409."
					},
					"response": []
				},
				{
					"name": "Crear evento sin t√≠tulo (debe fallar)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Verificar que el status sea 400 Bad Request",
									"pm.test(\"Status code es 400 Bad Request\", function () {",
									"    pm.response.to.have.status(400);",
									"});",
									"",
									"// Verificar que tenga mensaje de error",
									"pm.test(\"Respuesta contiene mensaje de validaci√≥n\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('message');",
									"    console.log(\"‚úÖ Validaci√≥n funcionando correctamente\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"description\": \"Evento sin t√≠tulo\",\n  \"date\": \"2025-12-31T10:00:00.000Z\",\n  \"location\": \"Lugar de prueba\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/events",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"events"
							]
						},
						"description": "Test de validaci√≥n: Intenta crear un evento sin el campo obligatorio 'title'. Debe retornar error 400."
					},
					"response": []
				},
				{
					"name": "Crear evento con fecha inv√°lida (debe fallar)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Verificar que el status sea 400 Bad Request",
									"pm.test(\"Status code es 400 Bad Request\", function () {",
									"    pm.response.to.have.status(400);",
									"});",
									"",
									"// Verificar mensaje de error",
									"pm.test(\"Respuesta contiene error de validaci√≥n de fecha\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('message');",
									"    console.log(\"‚úÖ Validaci√≥n de fecha funcionando correctamente\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"Evento con fecha inv√°lida\",\n  \"description\": \"Test de validaci√≥n\",\n  \"date\": \"fecha-invalida\",\n  \"location\": \"Lugar de prueba\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/events",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"events"
							]
						},
						"description": "Test de validaci√≥n: Intenta crear un evento con una fecha no v√°lida. Debe retornar error 400."
					},
					"response": []
				}
			],
			"description": "Tests para verificar las validaciones del API y la autenticaci√≥n"
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:3000",
			"type": "string"
		},
		{
			"key": "authToken",
			"value": "",
			"type": "string"
		},
		{
			"key": "eventId",
			"value": "",
			"type": "string"
		},
		{
			"key": "userId",
			"value": "",
			"type": "string"
		},
		{
			"key": "bookingId",
			"value": ""
		}
	]
}